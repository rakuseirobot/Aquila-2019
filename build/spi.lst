ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"spi.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.MX_SPI1_Init,"ax",%progbits
  22              		.align	2
  23              		.global	MX_SPI1_Init
  24              		.thumb
  25              		.thumb_func
  27              	MX_SPI1_Init:
  28              	.LFB124:
  29              		.file 1 "Src/spi.c"
   1:Src/spi.c     **** /**
   2:Src/spi.c     ****   ******************************************************************************
   3:Src/spi.c     ****   * File Name          : SPI.c
   4:Src/spi.c     ****   * Description        : This file provides code for the configuration
   5:Src/spi.c     ****   *                      of the SPI instances.
   6:Src/spi.c     ****   ******************************************************************************
   7:Src/spi.c     ****   ** This notice applies to any and all portions of this file
   8:Src/spi.c     ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/spi.c     ****   * USER CODE END. Other portions of this file, whether 
  10:Src/spi.c     ****   * inserted by the user or by software development tools
  11:Src/spi.c     ****   * are owned by their respective copyright owners.
  12:Src/spi.c     ****   *
  13:Src/spi.c     ****   * COPYRIGHT(c) 2019 STMicroelectronics
  14:Src/spi.c     ****   *
  15:Src/spi.c     ****   * Redistribution and use in source and binary forms, with or without modification,
  16:Src/spi.c     ****   * are permitted provided that the following conditions are met:
  17:Src/spi.c     ****   *   1. Redistributions of source code must retain the above copyright notice,
  18:Src/spi.c     ****   *      this list of conditions and the following disclaimer.
  19:Src/spi.c     ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  20:Src/spi.c     ****   *      this list of conditions and the following disclaimer in the documentation
  21:Src/spi.c     ****   *      and/or other materials provided with the distribution.
  22:Src/spi.c     ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  23:Src/spi.c     ****   *      may be used to endorse or promote products derived from this software
  24:Src/spi.c     ****   *      without specific prior written permission.
  25:Src/spi.c     ****   *
  26:Src/spi.c     ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  27:Src/spi.c     ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  28:Src/spi.c     ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  29:Src/spi.c     ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 2


  30:Src/spi.c     ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  31:Src/spi.c     ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  32:Src/spi.c     ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  33:Src/spi.c     ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  34:Src/spi.c     ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  35:Src/spi.c     ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  36:Src/spi.c     ****   *
  37:Src/spi.c     ****   ******************************************************************************
  38:Src/spi.c     ****   */
  39:Src/spi.c     **** 
  40:Src/spi.c     **** /* Includes ------------------------------------------------------------------*/
  41:Src/spi.c     **** #include "spi.h"
  42:Src/spi.c     **** 
  43:Src/spi.c     **** #include "gpio.h"
  44:Src/spi.c     **** 
  45:Src/spi.c     **** /* USER CODE BEGIN 0 */
  46:Src/spi.c     **** 
  47:Src/spi.c     **** /* USER CODE END 0 */
  48:Src/spi.c     **** 
  49:Src/spi.c     **** SPI_HandleTypeDef hspi1;
  50:Src/spi.c     **** SPI_HandleTypeDef hspi2;
  51:Src/spi.c     **** 
  52:Src/spi.c     **** /* SPI1 init function */
  53:Src/spi.c     **** void MX_SPI1_Init(void)
  54:Src/spi.c     **** {
  30              		.loc 1 54 0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  55:Src/spi.c     **** 
  56:Src/spi.c     ****   hspi1.Instance = SPI1;
  39              		.loc 1 56 0
  40 0002 0E48     		ldr	r0, .L4
  41 0004 0E4B     		ldr	r3, .L4+4
  42 0006 0360     		str	r3, [r0]
  57:Src/spi.c     ****   hspi1.Init.Mode = SPI_MODE_MASTER;
  43              		.loc 1 57 0
  44 0008 4FF48273 		mov	r3, #260
  45 000c 4360     		str	r3, [r0, #4]
  58:Src/spi.c     ****   hspi1.Init.Direction = SPI_DIRECTION_2LINES;
  46              		.loc 1 58 0
  47 000e 0023     		movs	r3, #0
  48 0010 8360     		str	r3, [r0, #8]
  59:Src/spi.c     ****   hspi1.Init.DataSize = SPI_DATASIZE_8BIT;
  49              		.loc 1 59 0
  50 0012 C360     		str	r3, [r0, #12]
  60:Src/spi.c     ****   hspi1.Init.CLKPolarity = SPI_POLARITY_LOW;
  51              		.loc 1 60 0
  52 0014 0361     		str	r3, [r0, #16]
  61:Src/spi.c     ****   hspi1.Init.CLKPhase = SPI_PHASE_1EDGE;
  53              		.loc 1 61 0
  54 0016 4361     		str	r3, [r0, #20]
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 3


  62:Src/spi.c     ****   hspi1.Init.NSS = SPI_NSS_SOFT;
  55              		.loc 1 62 0
  56 0018 4FF40072 		mov	r2, #512
  57 001c 8261     		str	r2, [r0, #24]
  63:Src/spi.c     ****   hspi1.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_16;
  58              		.loc 1 63 0
  59 001e 1822     		movs	r2, #24
  60 0020 C261     		str	r2, [r0, #28]
  64:Src/spi.c     ****   hspi1.Init.FirstBit = SPI_FIRSTBIT_MSB;
  61              		.loc 1 64 0
  62 0022 0362     		str	r3, [r0, #32]
  65:Src/spi.c     ****   hspi1.Init.TIMode = SPI_TIMODE_DISABLE;
  63              		.loc 1 65 0
  64 0024 4362     		str	r3, [r0, #36]
  66:Src/spi.c     ****   hspi1.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  65              		.loc 1 66 0
  66 0026 8362     		str	r3, [r0, #40]
  67:Src/spi.c     ****   hspi1.Init.CRCPolynomial = 10;
  67              		.loc 1 67 0
  68 0028 0A23     		movs	r3, #10
  69 002a C362     		str	r3, [r0, #44]
  68:Src/spi.c     ****   if (HAL_SPI_Init(&hspi1) != HAL_OK)
  70              		.loc 1 68 0
  71 002c FFF7FEFF 		bl	HAL_SPI_Init
  72              	.LVL0:
  73 0030 18B1     		cbz	r0, .L1
  69:Src/spi.c     ****   {
  70:Src/spi.c     ****     _Error_Handler(__FILE__, __LINE__);
  74              		.loc 1 70 0
  75 0032 4621     		movs	r1, #70
  76 0034 0348     		ldr	r0, .L4+8
  77 0036 FFF7FEFF 		bl	_Error_Handler
  78              	.LVL1:
  79              	.L1:
  80 003a 08BD     		pop	{r3, pc}
  81              	.L5:
  82              		.align	2
  83              	.L4:
  84 003c 00000000 		.word	hspi1
  85 0040 00300140 		.word	1073819648
  86 0044 00000000 		.word	.LC0
  87              		.cfi_endproc
  88              	.LFE124:
  90              		.section	.text.MX_SPI2_Init,"ax",%progbits
  91              		.align	2
  92              		.global	MX_SPI2_Init
  93              		.thumb
  94              		.thumb_func
  96              	MX_SPI2_Init:
  97              	.LFB125:
  71:Src/spi.c     ****   }
  72:Src/spi.c     **** 
  73:Src/spi.c     **** }
  74:Src/spi.c     **** /* SPI2 init function */
  75:Src/spi.c     **** void MX_SPI2_Init(void)
  76:Src/spi.c     **** {
  98              		.loc 1 76 0
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 4


  99              		.cfi_startproc
 100              		@ args = 0, pretend = 0, frame = 0
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102 0000 08B5     		push	{r3, lr}
 103              	.LCFI1:
 104              		.cfi_def_cfa_offset 8
 105              		.cfi_offset 3, -8
 106              		.cfi_offset 14, -4
  77:Src/spi.c     **** 
  78:Src/spi.c     ****   hspi2.Instance = SPI2;
 107              		.loc 1 78 0
 108 0002 0E48     		ldr	r0, .L9
 109 0004 0E4B     		ldr	r3, .L9+4
 110 0006 0360     		str	r3, [r0]
  79:Src/spi.c     ****   hspi2.Init.Mode = SPI_MODE_MASTER;
 111              		.loc 1 79 0
 112 0008 4FF48273 		mov	r3, #260
 113 000c 4360     		str	r3, [r0, #4]
  80:Src/spi.c     ****   hspi2.Init.Direction = SPI_DIRECTION_2LINES;
 114              		.loc 1 80 0
 115 000e 0023     		movs	r3, #0
 116 0010 8360     		str	r3, [r0, #8]
  81:Src/spi.c     ****   hspi2.Init.DataSize = SPI_DATASIZE_8BIT;
 117              		.loc 1 81 0
 118 0012 C360     		str	r3, [r0, #12]
  82:Src/spi.c     ****   hspi2.Init.CLKPolarity = SPI_POLARITY_LOW;
 119              		.loc 1 82 0
 120 0014 0361     		str	r3, [r0, #16]
  83:Src/spi.c     ****   hspi2.Init.CLKPhase = SPI_PHASE_1EDGE;
 121              		.loc 1 83 0
 122 0016 4361     		str	r3, [r0, #20]
  84:Src/spi.c     ****   hspi2.Init.NSS = SPI_NSS_SOFT;
 123              		.loc 1 84 0
 124 0018 4FF40072 		mov	r2, #512
 125 001c 8261     		str	r2, [r0, #24]
  85:Src/spi.c     ****   hspi2.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_64;
 126              		.loc 1 85 0
 127 001e 2822     		movs	r2, #40
 128 0020 C261     		str	r2, [r0, #28]
  86:Src/spi.c     ****   hspi2.Init.FirstBit = SPI_FIRSTBIT_MSB;
 129              		.loc 1 86 0
 130 0022 0362     		str	r3, [r0, #32]
  87:Src/spi.c     ****   hspi2.Init.TIMode = SPI_TIMODE_DISABLE;
 131              		.loc 1 87 0
 132 0024 4362     		str	r3, [r0, #36]
  88:Src/spi.c     ****   hspi2.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 133              		.loc 1 88 0
 134 0026 8362     		str	r3, [r0, #40]
  89:Src/spi.c     ****   hspi2.Init.CRCPolynomial = 10;
 135              		.loc 1 89 0
 136 0028 0A23     		movs	r3, #10
 137 002a C362     		str	r3, [r0, #44]
  90:Src/spi.c     ****   if (HAL_SPI_Init(&hspi2) != HAL_OK)
 138              		.loc 1 90 0
 139 002c FFF7FEFF 		bl	HAL_SPI_Init
 140              	.LVL2:
 141 0030 18B1     		cbz	r0, .L6
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 5


  91:Src/spi.c     ****   {
  92:Src/spi.c     ****     _Error_Handler(__FILE__, __LINE__);
 142              		.loc 1 92 0
 143 0032 5C21     		movs	r1, #92
 144 0034 0348     		ldr	r0, .L9+8
 145 0036 FFF7FEFF 		bl	_Error_Handler
 146              	.LVL3:
 147              	.L6:
 148 003a 08BD     		pop	{r3, pc}
 149              	.L10:
 150              		.align	2
 151              	.L9:
 152 003c 00000000 		.word	hspi2
 153 0040 00380040 		.word	1073756160
 154 0044 00000000 		.word	.LC0
 155              		.cfi_endproc
 156              	.LFE125:
 158              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 159              		.align	2
 160              		.global	HAL_SPI_MspInit
 161              		.thumb
 162              		.thumb_func
 164              	HAL_SPI_MspInit:
 165              	.LFB126:
  93:Src/spi.c     ****   }
  94:Src/spi.c     **** 
  95:Src/spi.c     **** }
  96:Src/spi.c     **** 
  97:Src/spi.c     **** void HAL_SPI_MspInit(SPI_HandleTypeDef* spiHandle)
  98:Src/spi.c     **** {
 166              		.loc 1 98 0
 167              		.cfi_startproc
 168              		@ args = 0, pretend = 0, frame = 32
 169              		@ frame_needed = 0, uses_anonymous_args = 0
 170              	.LVL4:
 171 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 172              	.LCFI2:
 173              		.cfi_def_cfa_offset 20
 174              		.cfi_offset 4, -20
 175              		.cfi_offset 5, -16
 176              		.cfi_offset 6, -12
 177              		.cfi_offset 7, -8
 178              		.cfi_offset 14, -4
 179 0002 89B0     		sub	sp, sp, #36
 180              	.LCFI3:
 181              		.cfi_def_cfa_offset 56
  99:Src/spi.c     **** 
 100:Src/spi.c     ****   GPIO_InitTypeDef GPIO_InitStruct;
 101:Src/spi.c     ****   if(spiHandle->Instance==SPI1)
 182              		.loc 1 101 0
 183 0004 0368     		ldr	r3, [r0]
 184 0006 234A     		ldr	r2, .L15
 185 0008 9342     		cmp	r3, r2
 186 000a 19D1     		bne	.L12
 187              	.LBB2:
 102:Src/spi.c     ****   {
 103:Src/spi.c     ****   /* USER CODE BEGIN SPI1_MspInit 0 */
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 6


 104:Src/spi.c     **** 
 105:Src/spi.c     ****   /* USER CODE END SPI1_MspInit 0 */
 106:Src/spi.c     ****     /* SPI1 clock enable */
 107:Src/spi.c     ****     __HAL_RCC_SPI1_CLK_ENABLE();
 188              		.loc 1 107 0
 189 000c 0021     		movs	r1, #0
 190 000e 0191     		str	r1, [sp, #4]
 191 0010 214B     		ldr	r3, .L15+4
 192 0012 5A6C     		ldr	r2, [r3, #68]
 193 0014 42F48052 		orr	r2, r2, #4096
 194 0018 5A64     		str	r2, [r3, #68]
 195 001a 5B6C     		ldr	r3, [r3, #68]
 196 001c 03F48053 		and	r3, r3, #4096
 197 0020 0193     		str	r3, [sp, #4]
 198 0022 019B     		ldr	r3, [sp, #4]
 199              	.LBE2:
 108:Src/spi.c     ****   
 109:Src/spi.c     ****     /**SPI1 GPIO Configuration    
 110:Src/spi.c     ****     PA5     ------> SPI1_SCK
 111:Src/spi.c     ****     PA6     ------> SPI1_MISO
 112:Src/spi.c     ****     PA7     ------> SPI1_MOSI 
 113:Src/spi.c     ****     */
 114:Src/spi.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_5|GPIO_PIN_6|GPIO_PIN_7;
 200              		.loc 1 114 0
 201 0024 E023     		movs	r3, #224
 202 0026 0393     		str	r3, [sp, #12]
 115:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 203              		.loc 1 115 0
 204 0028 0223     		movs	r3, #2
 205 002a 0493     		str	r3, [sp, #16]
 116:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 206              		.loc 1 116 0
 207 002c 0591     		str	r1, [sp, #20]
 117:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 208              		.loc 1 117 0
 209 002e 0323     		movs	r3, #3
 210 0030 0693     		str	r3, [sp, #24]
 118:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI1;
 211              		.loc 1 118 0
 212 0032 0523     		movs	r3, #5
 213 0034 0793     		str	r3, [sp, #28]
 119:Src/spi.c     ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 214              		.loc 1 119 0
 215 0036 03A9     		add	r1, sp, #12
 216 0038 1848     		ldr	r0, .L15+8
 217              	.LVL5:
 218 003a FFF7FEFF 		bl	HAL_GPIO_Init
 219              	.LVL6:
 220 003e 27E0     		b	.L11
 221              	.LVL7:
 222              	.L12:
 120:Src/spi.c     **** 
 121:Src/spi.c     ****   /* USER CODE BEGIN SPI1_MspInit 1 */
 122:Src/spi.c     **** 
 123:Src/spi.c     ****   /* USER CODE END SPI1_MspInit 1 */
 124:Src/spi.c     ****   }
 125:Src/spi.c     ****   else if(spiHandle->Instance==SPI2)
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 7


 223              		.loc 1 125 0
 224 0040 174A     		ldr	r2, .L15+12
 225 0042 9342     		cmp	r3, r2
 226 0044 24D1     		bne	.L11
 227              	.LBB3:
 126:Src/spi.c     ****   {
 127:Src/spi.c     ****   /* USER CODE BEGIN SPI2_MspInit 0 */
 128:Src/spi.c     **** 
 129:Src/spi.c     ****   /* USER CODE END SPI2_MspInit 0 */
 130:Src/spi.c     ****     /* SPI2 clock enable */
 131:Src/spi.c     ****     __HAL_RCC_SPI2_CLK_ENABLE();
 228              		.loc 1 131 0
 229 0046 0024     		movs	r4, #0
 230 0048 0294     		str	r4, [sp, #8]
 231 004a 134B     		ldr	r3, .L15+4
 232 004c 1A6C     		ldr	r2, [r3, #64]
 233 004e 42F48042 		orr	r2, r2, #16384
 234 0052 1A64     		str	r2, [r3, #64]
 235 0054 1B6C     		ldr	r3, [r3, #64]
 236 0056 03F48043 		and	r3, r3, #16384
 237 005a 0293     		str	r3, [sp, #8]
 238 005c 029B     		ldr	r3, [sp, #8]
 239              	.LBE3:
 132:Src/spi.c     ****   
 133:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 134:Src/spi.c     ****     PC2     ------> SPI2_MISO
 135:Src/spi.c     ****     PC3     ------> SPI2_MOSI
 136:Src/spi.c     ****     PB13     ------> SPI2_SCK 
 137:Src/spi.c     ****     */
 138:Src/spi.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_2|GPIO_PIN_3;
 240              		.loc 1 138 0
 241 005e 0C23     		movs	r3, #12
 242 0060 0393     		str	r3, [sp, #12]
 139:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 243              		.loc 1 139 0
 244 0062 0227     		movs	r7, #2
 245 0064 0497     		str	r7, [sp, #16]
 140:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 246              		.loc 1 140 0
 247 0066 0594     		str	r4, [sp, #20]
 141:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 248              		.loc 1 141 0
 249 0068 0326     		movs	r6, #3
 250 006a 0696     		str	r6, [sp, #24]
 142:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 251              		.loc 1 142 0
 252 006c 0525     		movs	r5, #5
 253 006e 0795     		str	r5, [sp, #28]
 143:Src/spi.c     ****     HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 254              		.loc 1 143 0
 255 0070 0DEB0301 		add	r1, sp, r3
 256 0074 0B48     		ldr	r0, .L15+16
 257              	.LVL8:
 258 0076 FFF7FEFF 		bl	HAL_GPIO_Init
 259              	.LVL9:
 144:Src/spi.c     **** 
 145:Src/spi.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_13;
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 8


 260              		.loc 1 145 0
 261 007a 4FF40053 		mov	r3, #8192
 262 007e 0393     		str	r3, [sp, #12]
 146:Src/spi.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 263              		.loc 1 146 0
 264 0080 0497     		str	r7, [sp, #16]
 147:Src/spi.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 265              		.loc 1 147 0
 266 0082 0594     		str	r4, [sp, #20]
 148:Src/spi.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 267              		.loc 1 148 0
 268 0084 0696     		str	r6, [sp, #24]
 149:Src/spi.c     ****     GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
 269              		.loc 1 149 0
 270 0086 0795     		str	r5, [sp, #28]
 150:Src/spi.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 271              		.loc 1 150 0
 272 0088 03A9     		add	r1, sp, #12
 273 008a 0748     		ldr	r0, .L15+20
 274 008c FFF7FEFF 		bl	HAL_GPIO_Init
 275              	.LVL10:
 276              	.L11:
 151:Src/spi.c     **** 
 152:Src/spi.c     ****   /* USER CODE BEGIN SPI2_MspInit 1 */
 153:Src/spi.c     **** 
 154:Src/spi.c     ****   /* USER CODE END SPI2_MspInit 1 */
 155:Src/spi.c     ****   }
 156:Src/spi.c     **** }
 277              		.loc 1 156 0
 278 0090 09B0     		add	sp, sp, #36
 279              	.LCFI4:
 280              		.cfi_def_cfa_offset 20
 281              		@ sp needed
 282 0092 F0BD     		pop	{r4, r5, r6, r7, pc}
 283              	.L16:
 284              		.align	2
 285              	.L15:
 286 0094 00300140 		.word	1073819648
 287 0098 00380240 		.word	1073887232
 288 009c 00000240 		.word	1073872896
 289 00a0 00380040 		.word	1073756160
 290 00a4 00080240 		.word	1073874944
 291 00a8 00040240 		.word	1073873920
 292              		.cfi_endproc
 293              	.LFE126:
 295              		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 296              		.align	2
 297              		.global	HAL_SPI_MspDeInit
 298              		.thumb
 299              		.thumb_func
 301              	HAL_SPI_MspDeInit:
 302              	.LFB127:
 157:Src/spi.c     **** 
 158:Src/spi.c     **** void HAL_SPI_MspDeInit(SPI_HandleTypeDef* spiHandle)
 159:Src/spi.c     **** {
 303              		.loc 1 159 0
 304              		.cfi_startproc
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 9


 305              		@ args = 0, pretend = 0, frame = 0
 306              		@ frame_needed = 0, uses_anonymous_args = 0
 307              	.LVL11:
 308 0000 08B5     		push	{r3, lr}
 309              	.LCFI5:
 310              		.cfi_def_cfa_offset 8
 311              		.cfi_offset 3, -8
 312              		.cfi_offset 14, -4
 160:Src/spi.c     **** 
 161:Src/spi.c     ****   if(spiHandle->Instance==SPI1)
 313              		.loc 1 161 0
 314 0002 0368     		ldr	r3, [r0]
 315 0004 104A     		ldr	r2, .L21
 316 0006 9342     		cmp	r3, r2
 317 0008 0AD1     		bne	.L18
 162:Src/spi.c     ****   {
 163:Src/spi.c     ****   /* USER CODE BEGIN SPI1_MspDeInit 0 */
 164:Src/spi.c     **** 
 165:Src/spi.c     ****   /* USER CODE END SPI1_MspDeInit 0 */
 166:Src/spi.c     ****     /* Peripheral clock disable */
 167:Src/spi.c     ****     __HAL_RCC_SPI1_CLK_DISABLE();
 318              		.loc 1 167 0
 319 000a 02F58432 		add	r2, r2, #67584
 320 000e 536C     		ldr	r3, [r2, #68]
 321 0010 23F48053 		bic	r3, r3, #4096
 322 0014 5364     		str	r3, [r2, #68]
 168:Src/spi.c     ****   
 169:Src/spi.c     ****     /**SPI1 GPIO Configuration    
 170:Src/spi.c     ****     PA5     ------> SPI1_SCK
 171:Src/spi.c     ****     PA6     ------> SPI1_MISO
 172:Src/spi.c     ****     PA7     ------> SPI1_MOSI 
 173:Src/spi.c     ****     */
 174:Src/spi.c     ****     HAL_GPIO_DeInit(GPIOA, GPIO_PIN_5|GPIO_PIN_6|GPIO_PIN_7);
 323              		.loc 1 174 0
 324 0016 E021     		movs	r1, #224
 325 0018 0C48     		ldr	r0, .L21+4
 326              	.LVL12:
 327 001a FFF7FEFF 		bl	HAL_GPIO_DeInit
 328              	.LVL13:
 329 001e 08BD     		pop	{r3, pc}
 330              	.LVL14:
 331              	.L18:
 175:Src/spi.c     **** 
 176:Src/spi.c     ****   /* USER CODE BEGIN SPI1_MspDeInit 1 */
 177:Src/spi.c     **** 
 178:Src/spi.c     ****   /* USER CODE END SPI1_MspDeInit 1 */
 179:Src/spi.c     ****   }
 180:Src/spi.c     ****   else if(spiHandle->Instance==SPI2)
 332              		.loc 1 180 0
 333 0020 0B4A     		ldr	r2, .L21+8
 334 0022 9342     		cmp	r3, r2
 335 0024 0ED1     		bne	.L17
 181:Src/spi.c     ****   {
 182:Src/spi.c     ****   /* USER CODE BEGIN SPI2_MspDeInit 0 */
 183:Src/spi.c     **** 
 184:Src/spi.c     ****   /* USER CODE END SPI2_MspDeInit 0 */
 185:Src/spi.c     ****     /* Peripheral clock disable */
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 10


 186:Src/spi.c     ****     __HAL_RCC_SPI2_CLK_DISABLE();
 336              		.loc 1 186 0
 337 0026 02F50032 		add	r2, r2, #131072
 338 002a 136C     		ldr	r3, [r2, #64]
 339 002c 23F48043 		bic	r3, r3, #16384
 340 0030 1364     		str	r3, [r2, #64]
 187:Src/spi.c     ****   
 188:Src/spi.c     ****     /**SPI2 GPIO Configuration    
 189:Src/spi.c     ****     PC2     ------> SPI2_MISO
 190:Src/spi.c     ****     PC3     ------> SPI2_MOSI
 191:Src/spi.c     ****     PB13     ------> SPI2_SCK 
 192:Src/spi.c     ****     */
 193:Src/spi.c     ****     HAL_GPIO_DeInit(GPIOC, GPIO_PIN_2|GPIO_PIN_3);
 341              		.loc 1 193 0
 342 0032 0C21     		movs	r1, #12
 343 0034 0748     		ldr	r0, .L21+12
 344              	.LVL15:
 345 0036 FFF7FEFF 		bl	HAL_GPIO_DeInit
 346              	.LVL16:
 194:Src/spi.c     **** 
 195:Src/spi.c     ****     HAL_GPIO_DeInit(GPIOB, GPIO_PIN_13);
 347              		.loc 1 195 0
 348 003a 4FF40051 		mov	r1, #8192
 349 003e 0648     		ldr	r0, .L21+16
 350 0040 FFF7FEFF 		bl	HAL_GPIO_DeInit
 351              	.LVL17:
 352              	.L17:
 353 0044 08BD     		pop	{r3, pc}
 354              	.L22:
 355 0046 00BF     		.align	2
 356              	.L21:
 357 0048 00300140 		.word	1073819648
 358 004c 00000240 		.word	1073872896
 359 0050 00380040 		.word	1073756160
 360 0054 00080240 		.word	1073874944
 361 0058 00040240 		.word	1073873920
 362              		.cfi_endproc
 363              	.LFE127:
 365              		.comm	hspi2,88,4
 366              		.comm	hspi1,88,4
 367              		.section	.rodata.str1.4,"aMS",%progbits,1
 368              		.align	2
 369              	.LC0:
 370 0000 5372632F 		.ascii	"Src/spi.c\000"
 370      7370692E 
 370      6300
 371              		.text
 372              	.Letext0:
 373              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\5.4 2016q3\\arm-none-eabi\\include\\mach
 374              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\5.4 2016q3\\arm-none-eabi\\include\\sys\
 375              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f429xx.h"
 376              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 377              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 378              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 379              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 380              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 381              		.file 10 "Inc/spi.h"
ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 11


ARM GAS  C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 spi.c
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:22     .text.MX_SPI1_Init:00000000 $t
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:27     .text.MX_SPI1_Init:00000000 MX_SPI1_Init
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:84     .text.MX_SPI1_Init:0000003c $d
                            *COM*:00000058 hspi1
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:91     .text.MX_SPI2_Init:00000000 $t
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:96     .text.MX_SPI2_Init:00000000 MX_SPI2_Init
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:152    .text.MX_SPI2_Init:0000003c $d
                            *COM*:00000058 hspi2
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:159    .text.HAL_SPI_MspInit:00000000 $t
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:164    .text.HAL_SPI_MspInit:00000000 HAL_SPI_MspInit
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:286    .text.HAL_SPI_MspInit:00000094 $d
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:296    .text.HAL_SPI_MspDeInit:00000000 $t
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:301    .text.HAL_SPI_MspDeInit:00000000 HAL_SPI_MspDeInit
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:357    .text.HAL_SPI_MspDeInit:00000048 $d
C:\Users\shun2\AppData\Local\Temp\ccjBzxNg.s:368    .rodata.str1.4:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
HAL_SPI_Init
_Error_Handler
HAL_GPIO_Init
HAL_GPIO_DeInit
